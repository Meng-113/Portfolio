generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Profile {
  id             Int          @id @default(autoincrement())
  name           String?
  title          String?
  location       String?
  about_title    String?
  intro          String?
  about          String?
  contact_detail String?
  contact_email  String?
  url_profile    String?
  projects       Project[]
  quick_info     QuickInfo[]
  skill_images   SkillImage[]
  social_links   SocialLink[]

  @@map("profile")
}

model QuickInfo {
  id         Int     @id @default(autoincrement())
  profile_id Int
  label      String
  value      String
  sort_order Int?
  profile    Profile @relation(fields: [profile_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([profile_id], map: "quick_info_profile_id_idx")
  @@map("quick_info")
}

model SkillImage {
  id         Int     @id @default(autoincrement())
  profile_id Int
  image_url  String
  sort_order Int?
  profile    Profile @relation(fields: [profile_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([profile_id], map: "skill_image_profile_id_idx")
  @@map("skill_image")
}

model Project {
  id          Int      @id @default(autoincrement())
  profile_id  Int
  category    String
  title       String
  description String?
  tech_stack  String[]
  github_url  String?
  live_url    String?
  sort_order  Int?
  profile     Profile  @relation(fields: [profile_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([profile_id], map: "project_profile_id_idx")
  @@map("project")
}

model SocialLink {
  id         Int     @id @default(autoincrement())
  profile_id Int
  name       String
  url        String
  url_image  String?
  sort_order Int?
  profile    Profile @relation(fields: [profile_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([profile_id], map: "social_link_profile_id_idx")
  @@map("social_link")
}
